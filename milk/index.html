<!doctype html>
<!-- (C) Roganov Sergey aka belomir, 2019 -->
<!-- https://barcode.tec-it.com/ru/EAN13?data= -->
<!-- https://barcode.tec-it.com/barcode.ashx?code=EAN13&imagetype=Svg&data= -->
<html lang="ru">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width; initial-scale=1">
	<title>Молочка</title>
	<link rel="icon" type="image/png" href="favicon.png">
	<style>
	body {
		margin: 0;
		min-height: 100vh;
		display: flex;
		flex-flow: column nowrap;
	}
	body>* {
		padding-top: 8px;
		width: 100%;
		border-top: 1px solid black;
		position: relative;
		display: flex;
		flex-flow: column nowrap;
		justify-content: start;
		align-items: center;
		min-height: 100vh;
		text-decoration: none;
	}
	img {
		width: 100%;
	}
	img+div {
		color: red;
		font-size: 196px;
		font-weight: bold;
		transform: rotate(180deg);
	}
</style>
<script>
	document.addEventListener('DOMContentLoaded', evt=>{
		var prefix = 'https://barcode.tec-it.com/barcode.ashx?code=EAN13&imagetype=Svg&data=';
		var M = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];
		var body = document.querySelector('body');
		var file = new XMLHttpRequest();
		file.addEventListener('load', ev=>{
			var text = file.responseText;
			var lines = text.split('\n').filter(x=>x!='');
			lines.forEach((e,i,a)=>{
				var arr = e.split(';');
				var D = new Date();
				var d = arr[0].split('.');
				var m = parseInt(d[0]);
				var y = parseInt(d[1]);
				if(((D.getFullYear())==(2000+y))&&((D.getMonth()+1)==m)){
					setTimeout(ev=>{document.title = M[m-1];}, 5000);
					var ar = arr[1].split(',');
					ar.forEach((e,i,a)=>{
						var el = e.split(' ');
						var n = el[0];
						var c = el[1];
						var h = document.createElement('a');
						h.setAttribute('id', i);
						h.setAttribute('href', `#${(i+1)%a.length}`);
							var img = document.createElement('img');
							img.setAttribute('src', `${prefix}${c}`);
							h.appendChild(img);
							var div = document.createElement('div');
							div.textContent = n;
							h.appendChild(div);
						body.appendChild(h);
					});
				}
			});
		});
		file.open('GET', 'codes', true);
		file.send();
	});
</script>
</head>
<body>
</body>
</html>
